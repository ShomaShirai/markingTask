# ディレクトリ設計
- `app.py`: エントリーポイント（GUI起動）
- `assets/`: 入力画像配置
- `interface/`
	- `main_window.py`: メインUI（左キャンバス／右ペイン）
- `process/`
	- `blend.py`: 3画像重畳ロジック（非ゼロ画素のみブレンド）
	- `HSV_trans.py`: IR→肌色変換ユーティリティ

- `domain/`
	- `user.py`: 現在のユーザー名などドメイン状態（最内周）
- `services/`
	- `ui_actions.py`: UIイベント処理（参照／重畳／保存／表示用リサイズ）
	- `user_service.py`: ユーザー名の設定/取得（interface → domain の仲介）
- `mt_types/`
	- `type.py`: ブレンドパラメータ・定数（H/S/ティント/カラーマップ）

# 依存関係（アーキテクチャ）
- `app.py`: エントリーポイントが`interface`にのみ依存。
- `interface`: UI層が`services`にのみ依存（処理は呼び出すだけ）。
- `services`: アプリケーションサービス層が`process`/`domain`に依存（オーケストレーション）。
- `process`: 画像処理ユーティリティ層が`domain`に依存（ロジック実装）。
- `domain`: ドメイン状態（ユーザー名など）。プロジェクト内の他層に依存しない（最内周）。

依存の向きは常に内側へ（UI→サービス→処理/ドメイン→型/定数）。下位層は上位層（UI/サービス）を参照しません。外部ライブラリ（Tkinter/Pillow/OpenCV/NumPy）は外側層で使用し、内側へ漏らさない方針です。

# 追加したい機能
- 回転付き表示：右ペインの「次へ行く」ボタンで3画像（背景/MIP/前景）を同角度で中心回転し、重畳結果を更新表示（既定は+10度ずつ）。
- タスクを始めてから描画の開始点を押すまでの時間・描画の終了地点を決めるまでの時間．これらをMIPと血管マスクのそれぞれで保存できる機能．

# 操作ガイド（回転）
- 画像読込後、「重畳して表示」で初期表示。
- 「次へ行く」で回転角度を+10度更新し再表示。必要に応じて何度でも押下可能。
- 「保存」は現在表示中の画像（回転反映済み）を保存します。